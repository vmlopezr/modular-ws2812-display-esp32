<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>modular-ws2812-display-esp32: include/LedDriverTask.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">modular-ws2812-display-esp32
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">ESP32 software for controlling WS2812 LED display via phone app.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">LedDriverTask.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="_globals_8h_source.html">Globals.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_filesystem_8h_source.html">Filesystem.h</a>&quot;</code><br />
</div>
<p><a href="_led_driver_task_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1cee77128706808bf089d7cdf10b975e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_led_driver_task_8h.html#a1cee77128706808bf089d7cdf10b975e">LedDriverTask</a> (void *parameter)</td></tr>
<tr class="memdesc:a1cee77128706808bf089d7cdf10b975e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Led Driver Task. Runs the state machine by observing the following global flags to persist loops.  <a href="#a1cee77128706808bf089d7cdf10b975e">More...</a><br /></td></tr>
<tr class="separator:a1cee77128706808bf089d7cdf10b975e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebed0ba24d55550cc37141cabc230e34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_led_driver_task_8h.html#aebed0ba24d55550cc37141cabc230e34">processLiveData</a> (char *receivedData)</td></tr>
<tr class="memdesc:aebed0ba24d55550cc37141cabc230e34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive a pixel color and position to update on the display. This is called various times in the Billboard Draw screen.  <a href="#aebed0ba24d55550cc37141cabc230e34">More...</a><br /></td></tr>
<tr class="separator:aebed0ba24d55550cc37141cabc230e34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a797444eefdd458f6bdad2ab328ccd65b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_led_driver_task_8h.html#a797444eefdd458f6bdad2ab328ccd65b">defaultDisplayState</a> ()</td></tr>
<tr class="memdesc:a797444eefdd458f6bdad2ab328ccd65b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs by default on power up, as well as when the phone application is not controlling the state. Loops through the default display arrays and displays the frames with their assigned effect. Loop is interrupted when a state change is triggered by the phone application.  <a href="#a797444eefdd458f6bdad2ab328ccd65b">More...</a><br /></td></tr>
<tr class="separator:a797444eefdd458f6bdad2ab328ccd65b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb93c4f4222e02f1c43ea7b351f7c358"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_led_driver_task_8h.html#abb93c4f4222e02f1c43ea7b351f7c358">animationDisplayState</a> ()</td></tr>
<tr class="memdesc:abb93c4f4222e02f1c43ea7b351f7c358"><td class="mdescLeft">&#160;</td><td class="mdescRight">Displays an animation chosen by the phone application. The following are the available animations:  <a href="#abb93c4f4222e02f1c43ea7b351f7c358">More...</a><br /></td></tr>
<tr class="separator:abb93c4f4222e02f1c43ea7b351f7c358"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1bee55aeb90ddfd9db331bebe44af17"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_led_driver_task_8h.html#ae1bee55aeb90ddfd9db331bebe44af17">openFileState</a> ()</td></tr>
<tr class="memdesc:ae1bee55aeb90ddfd9db331bebe44af17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the received filename from the Websocket server and displays it to the LED display. Global Variables Used:  <a href="#ae1bee55aeb90ddfd9db331bebe44af17">More...</a><br /></td></tr>
<tr class="separator:ae1bee55aeb90ddfd9db331bebe44af17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af06bf625e65d9946920aae188c43d1ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_led_driver_task_8h.html#af06bf625e65d9946920aae188c43d1ad">clearDisplayState</a> ()</td></tr>
<tr class="memdesc:af06bf625e65d9946920aae188c43d1ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to clear the LED display. This state is entered from the from the animation and open file state. It exits to the default display state.  <a href="#af06bf625e65d9946920aae188c43d1ad">More...</a><br /></td></tr>
<tr class="separator:af06bf625e65d9946920aae188c43d1ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c4a41322b2965340a6dc04cf9ffc09d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_led_driver_task_8h.html#a0c4a41322b2965340a6dc04cf9ffc09d">listenLiveInputState</a> ()</td></tr>
<tr class="memdesc:a0c4a41322b2965340a6dc04cf9ffc09d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Listens for input on the flag "receivedLiveData". The Websocket server listens from input from the phone application, loads data to matrix object, and updates "receivedLiveData" to allow the LED driver task to display the new data.  <a href="#a0c4a41322b2965340a6dc04cf9ffc09d">More...</a><br /></td></tr>
<tr class="separator:a0c4a41322b2965340a6dc04cf9ffc09d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a9375de8376ff6b66038f63853ac0e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_led_driver_task_8h.html#a7a9375de8376ff6b66038f63853ac0e7">clearLiveInputDisplay</a> ()</td></tr>
<tr class="memdesc:a7a9375de8376ff6b66038f63853ac0e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">State that clears the LED display and then returns back to the live input state. This state is only accessible from the live input state.  <a href="#a7a9375de8376ff6b66038f63853ac0e7">More...</a><br /></td></tr>
<tr class="separator:a7a9375de8376ff6b66038f63853ac0e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbeb59e9cb116d0072d66736f207e1d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_led_driver_task_8h.html#afbeb59e9cb116d0072d66736f207e1d7">shiftByColumn</a> (const size_t currentCol, const size_t frameIndex)</td></tr>
<tr class="memdesc:afbeb59e9cb116d0072d66736f207e1d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the next frame into the buffer, and the current frame into the matrix object. On each completion, it shifts the displayed frame one column to left or right(depending on direction). Fills the empty new column with the corresponding column of the next frame.  <a href="#afbeb59e9cb116d0072d66736f207e1d7">More...</a><br /></td></tr>
<tr class="separator:afbeb59e9cb116d0072d66736f207e1d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69c4b12659ef01c857ca3431aa343f7e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_led_driver_task_8h.html#a69c4b12659ef01c857ca3431aa343f7e">shiftByRow</a> (const size_t currentRow, const size_t frameIndex)</td></tr>
<tr class="memdesc:a69c4b12659ef01c857ca3431aa343f7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the next frame into the buffer, and the current frame into the matrix object. On each completion, it shifts the displayed frame one column to top or bottom(depending on direction). Fills the empty new row with the corresponding row of the next frame.  <a href="#a69c4b12659ef01c857ca3431aa343f7e">More...</a><br /></td></tr>
<tr class="separator:a69c4b12659ef01c857ca3431aa343f7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe9a8088dd0c4aa1404fd1917ad24a4e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_led_driver_task_8h.html#afe9a8088dd0c4aa1404fd1917ad24a4e">toggleDisplay</a> (const bool toggleBlink, const size_t frameIndex)</td></tr>
<tr class="memdesc:afe9a8088dd0c4aa1404fd1917ad24a4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Toggle the display based on the "toogleBlink flag".  <a href="#afe9a8088dd0c4aa1404fd1917ad24a4e">More...</a><br /></td></tr>
<tr class="separator:afe9a8088dd0c4aa1404fd1917ad24a4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33f0fe97c4f8672b1d85d546f681cbef"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_led_driver_task_8h.html#a33f0fe97c4f8672b1d85d546f681cbef">getNumericDec</a> (const char *number)</td></tr>
<tr class="memdesc:a33f0fe97c4f8672b1d85d546f681cbef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a string number (i.e. "12", "155", etc) into a base 10 number.  <a href="#a33f0fe97c4f8672b1d85d546f681cbef">More...</a><br /></td></tr>
<tr class="separator:a33f0fe97c4f8672b1d85d546f681cbef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="abb93c4f4222e02f1c43ea7b351f7c358"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb93c4f4222e02f1c43ea7b351f7c358">&#9670;&nbsp;</a></span>animationDisplayState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void animationDisplayState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Displays an animation chosen by the phone application. The following are the available animations: </p>
<ul>
<li>"HLNE": Shows a horizontal line sliding from bottom to top of the display.</li>
<li>"PIXL": Shows a pixel traveling on the display along its data signal path.</li>
<li>"VLNE": Shows a vertical line slideing from right to left on the display. Contains a while loop that is only exited when a state change is triggered by the phone application. </li>
</ul>

</div>
</div>
<a id="af06bf625e65d9946920aae188c43d1ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af06bf625e65d9946920aae188c43d1ad">&#9670;&nbsp;</a></span>clearDisplayState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clearDisplayState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to clear the LED display. This state is entered from the from the animation and open file state. It exits to the default display state. </p>
<ul>
<li>stateMachine: char * -&gt; Character array denoting the new state</li>
<li>matrix: <a class="el" href="class_esp32_ctrl_led.html">Esp32CtrlLed</a> -&gt; Object used to output data signal for the LED display Contains an array that stores the pixel data</li>
<li>defaultState: bool -&gt; Flag set to enter the default display loop</li>
<li>appInput: bool -&gt; Flag denoting there is a state change triggered by the phone application. Allows the task to enter the statemachine loop. </li>
</ul>

</div>
</div>
<a id="a7a9375de8376ff6b66038f63853ac0e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a9375de8376ff6b66038f63853ac0e7">&#9670;&nbsp;</a></span>clearLiveInputDisplay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clearLiveInputDisplay </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>State that clears the LED display and then returns back to the live input state. This state is only accessible from the live input state. </p>
<p>Global Variables Used:</p><ul>
<li>stateMachine: char * -&gt; Character array denoting the new state</li>
<li>matrix: <a class="el" href="class_esp32_ctrl_led.html">Esp32CtrlLed</a> -&gt; Object used to output data signal for the LED display Contains an array that stores the pixel data</li>
<li>liveInputState: bool -&gt; Flag set to enter the LiveInput loop. Websocket task updates this.</li>
<li>appInput: bool -&gt; Set when screen update is received from phone application. Controls the outermost loop in the task. </li>
</ul>

</div>
</div>
<a id="a797444eefdd458f6bdad2ab328ccd65b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a797444eefdd458f6bdad2ab328ccd65b">&#9670;&nbsp;</a></span>defaultDisplayState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void defaultDisplayState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs by default on power up, as well as when the phone application is not controlling the state. Loops through the default display arrays and displays the frames with their assigned effect. Loop is interrupted when a state change is triggered by the phone application. </p>
<p>Uses a timer interrupt to trigger frame advancement.</p>
<p>Global Variables Used (all extern):</p><ul>
<li>FileNames: std::string* -&gt; Array of filenames to display.</li>
<li>Effects: std::string* -&gt; Array of effects assigned to corresponding frame.</li>
<li>DisplayTime: std::string* -&gt; Array of display times for each frame.</li>
<li>Direction: std::string* -&gt; Array of sliding direction for the slide effect.</li>
<li>SlideSpeed: std::string* -&gt; Array of sliding speeds for each frame.</li>
<li>BlinkTime: std::string* -&gt; Array of blinking times for the blink effect.</li>
<li>numSavedFrames: size_t -&gt; Number of total frames in the display loop.</li>
<li>writeFrameISR: volatile bool -&gt; Flag set by the timer ISR to advance to the next frame in the array and display effects.</li>
<li>timer: hw_timer_t * -&gt; Timer object which triggers ISR based on an alarm.</li>
<li>timerMux: portMUX_TYPE -&gt; Used to lock the interrupt to prevent unwanted updates. </li>
</ul>

</div>
</div>
<a id="a33f0fe97c4f8672b1d85d546f681cbef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33f0fe97c4f8672b1d85d546f681cbef">&#9670;&nbsp;</a></span>getNumericDec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t getNumericDec </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a string number (i.e. "12", "155", etc) into a base 10 number. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">number</td><td>String to be converted to number. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the string as a base 10 number. </dd></dl>

</div>
</div>
<a id="a1cee77128706808bf089d7cdf10b975e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cee77128706808bf089d7cdf10b975e">&#9670;&nbsp;</a></span>LedDriverTask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LedDriverTask </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>parameter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Led Driver Task. Runs the state machine by observing the following global flags to persist loops. </p>
<ul>
<li>appInput: boolean -&gt; Set when screen update is received from phone application. Controls the outermost loop in the task.</li>
<li>defaultState: boolean -&gt; Set when on startup</li>
<li>animationState: boolean -&gt; Set when user starts an animation in the animation screen.</li>
<li>liveInputState: boolean -&gt; Set when the user accesses the "Draw on Billboard" screen. The driver actively listens for updates to the display.</li>
</ul>
<p>The following are the states observed by the global variable "stateMachine" after entering the outermost loop through the appInput flag.</p>
<ul>
<li>stateMachine:<ul>
<li>case "DEFT": Contains a while loop controlled by "defaultState" flag. Iterates through the default Frame list and displays them with the corresponding effects.</li>
<li>case "ANIM": Contains a while loop controlled by the "animationState" flag. Displays the chosen animation on the display.</li>
<li>case "OPEN": State used while on the Live Input screen. Reads the chosen file, sends the frame data to the phone application, and displays the frame on the LED display.</li>
<li>case "CLCR": Clears the LED display. The animation and open states use this state.</li>
<li>case "LIVE": Listens for live input from the phone application. Displays changes in real-time as the user draws on the app grid.</li>
<li>case "CLRI": Clears the LED display. The Live Input state uses this to clear the display and return to the Live Input State.</li>
</ul>
</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parameter</td><td>Array of parameters entered on function call. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0c4a41322b2965340a6dc04cf9ffc09d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c4a41322b2965340a6dc04cf9ffc09d">&#9670;&nbsp;</a></span>listenLiveInputState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void listenLiveInputState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Listens for input on the flag "receivedLiveData". The Websocket server listens from input from the phone application, loads data to matrix object, and updates "receivedLiveData" to allow the LED driver task to display the new data. </p>
<p>Global Variables Used:</p><ul>
<li>stateMachine: char * -&gt; Character array denoting the new state</li>
<li>liveInputState: bool -&gt; Flag set to enter the LiveInput loop. Websocket task updates this.</li>
<li>matrix: <a class="el" href="class_esp32_ctrl_led.html">Esp32CtrlLed</a> -&gt; Object used to output data signal for the LED display Contains an array that stores the pixel data</li>
<li>receivedLiveData: bool =&gt; Flag set by the websocket task so signal that the LED display must be updated. </li>
</ul>

</div>
</div>
<a id="ae1bee55aeb90ddfd9db331bebe44af17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1bee55aeb90ddfd9db331bebe44af17">&#9670;&nbsp;</a></span>openFileState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void openFileState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the received filename from the Websocket server and displays it to the LED display. Global Variables Used: </p>
<ul>
<li>fileLock: bool -&gt; Flag to prevent modifications from the Websocket Server</li>
<li>stateMachine: char * -&gt; Character array denoting the new state</li>
<li>matrix: <a class="el" href="class_esp32_ctrl_led.html">Esp32CtrlLed</a> -&gt; Object used to output data signal for the LED display Contains an array that stores the pixel data</li>
<li>filename: char * -&gt; Filename to read and display</li>
<li>liveInputState: bool -&gt; Flag set to enter the live input state loop </li>
</ul>

</div>
</div>
<a id="aebed0ba24d55550cc37141cabc230e34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebed0ba24d55550cc37141cabc230e34">&#9670;&nbsp;</a></span>processLiveData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void processLiveData </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>receivedData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive a pixel color and position to update on the display. This is called various times in the Billboard Draw screen. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">receivedData</td><td>Pixel data sent from the phone application. Data Format: "index color" -&gt; pixel index first, then 24 bit color separated by a space </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afbeb59e9cb116d0072d66736f207e1d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbeb59e9cb116d0072d66736f207e1d7">&#9670;&nbsp;</a></span>shiftByColumn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void shiftByColumn </td>
          <td>(</td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>currentCol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>frameIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads the next frame into the buffer, and the current frame into the matrix object. On each completion, it shifts the displayed frame one column to left or right(depending on direction). Fills the empty new column with the corresponding column of the next frame. </p>
<p>Global Variables Used:</p><ul>
<li>numSavedFrames: size_t -&gt; Number of frames in the default display list.</li>
<li>matrix: <a class="el" href="class_esp32_ctrl_led.html">Esp32CtrlLed</a> -&gt; Object used to output data signal for the LED display Contains an array that stores the pixel data</li>
<li>FileNames: std::string* -&gt; Array of the filenames to be displayed in the default display state.</li>
<li>LEDBuffer1: uint32_t* -&gt; Buffer to hold the next frame to be displayed in a frame sequence. </li>
</ul>

</div>
</div>
<a id="a69c4b12659ef01c857ca3431aa343f7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69c4b12659ef01c857ca3431aa343f7e">&#9670;&nbsp;</a></span>shiftByRow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void shiftByRow </td>
          <td>(</td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>currentRow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>frameIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads the next frame into the buffer, and the current frame into the matrix object. On each completion, it shifts the displayed frame one column to top or bottom(depending on direction). Fills the empty new row with the corresponding row of the next frame. </p>
<p>Global Variables Used:</p><ul>
<li>numSavedFrames: size_t -&gt; Number of frames in the default display list.</li>
<li>matrix: <a class="el" href="class_esp32_ctrl_led.html">Esp32CtrlLed</a> -&gt; Object used to output data signal for the LED display Contains an array that stores the pixel data</li>
<li>FileNames: std::string* -&gt; Array of the filenames to be displayed in the default display state.</li>
<li>LEDBuffer1: uint32_t* -&gt; Buffer to hold the next frame to be displayed in a frame sequence. </li>
</ul>

</div>
</div>
<a id="afe9a8088dd0c4aa1404fd1917ad24a4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe9a8088dd0c4aa1404fd1917ad24a4e">&#9670;&nbsp;</a></span>toggleDisplay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool toggleDisplay </td>
          <td>(</td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>toggleBlink</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>frameIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Toggle the display based on the "toogleBlink flag". </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">toggleBlink</td><td>const bool -&gt; Flag that curresponds to current state of display. The flag is true when a frame is being displayed. The flag is false when the display is cleared. </td></tr>
    <tr><td class="paramname">frameIndex</td><td>const size_t -&gt; Index of the current frame being displayed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
